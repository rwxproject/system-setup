### Get system1
# GET http://system1.app.rwx.systems/v1/data/envoy/authz
GET http://system1.app.rwx.systems/app/api
# customer-id: abc
# x-user-id: user-id-10
# x-ext-authz: allow
# Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwYXRoIjoiTDJGd2NDOWhjR2s9IiwibmJmIjoxNTAwMDAwMDAwLCJleHAiOjE5MDAwMDAwMDB9.kKRULBrhBmE8LyGFFtFRavLtr0-lUGIy15FnfWXVEoQ

### Get system1
GET http://system2.app.rwx.systems/app/api


### Get system1
GET http://system2.app.rwx.systems/app/api
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwYXRoIjoiTDJGd2FRPT0iLCJuYmYiOjE1MDAwMDAwMDAsImV4cCI6MTkwMDAwMDAwMH0.aNmUrIo0H4jHFr39x0ZNQzEHpWrbGTIZHsSmKLtYVck

### OPA
POST http://localhost:8181/v1/data/envoy/authz
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwYXRoIjoiTDJGd2NDOWhjR2s9IiwibmJmIjoxNTAwMDAwMDAwLCJleHAiOjE5MDAwMDAwMDB9.kKRULBrhBmE8LyGFFtFRavLtr0-lUGIy15FnfWXVEoQ
# Content-Type: application/json

# {

# }

### USER1

GET http://app.rwx.systems/app
# WWW-Authenticate: Bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxNm5uUXNGSi1DSno2cnFxNEktajN3QTItS0JfYkUweGl4bU1sa0ZOb1pjIn0.eyJleHAiOjE2MzYzNzI0MzYsImlhdCI6MTYzNjI4NjAzNiwianRpIjoiNTE0NjY1MjAtM2NhNS00MmM0LWExNzEtY2NhNmU4NmI0YTc5IiwiaXNzIjoiaHR0cDovL2FwcC5yd3guc3lzdGVtcy9hdXRoL3JlYWxtcy9tYXN0ZXIiLCJhdWQiOiJhY2NvdW50Iiwic3ViIjoiYjQ4OTg5NTYtODk1Yy00OGM3LWJiMDgtOTZlYzIwZTZjNmE5IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoid2ViYXBwIiwic2Vzc2lvbl9zdGF0ZSI6Ijc2ODUzZDdjLTAzMTktNDA5NS1hMGU4LTE1MWVkYzI5OGUxYyIsImFjciI6IjEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZGVmYXVsdC1yb2xlcy1tYXN0ZXIiLCJvZmZsaW5lX2FjY2VzcyIsInVtYV9hdXRob3JpemF0aW9uIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJwcm9maWxlIGVtYWlsIiwic2lkIjoiNzY4NTNkN2MtMDMxOS00MDk1LWEwZTgtMTUxZWRjMjk4ZTFjIiwiZW1haWxfdmVyaWZpZWQiOmZhbHNlLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJ1c2VyMSJ9.Y7POSn2nAgxID9FMM4-0iYmARUGhdsfbniZzLmahNpqGxbnk_seY5xI-4i4rYVetW7uJTkSvxgkhnjSQjbJz_Vs5HasOrV_y3-5IJawajX_Qte09NUT8s8zBuc2PNDogQ9rTyipQT6uRKT6v89OozEWsbf6K5-ChAk-iXA6YpXHOWmyqlPsQfCp62b0nWoMi531dFInwEGQpIY2CmR6FICUlhv4pMfXZE4J-xEFzba53_cNAoRS1nDCvuIpH3bmJBdcd9feSp7lpVaduI3Dz1zu7wcyZ4R1xLtgKkGhwZtt7PB1IqwWT2gKN-7IrGesbTzyzuqbxrJBZzLQwN5S1zw
Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJMbnptMGtqNTE4RHJwRTdlc1I4QU1EaU9VMndXTmQ4MFBGWm13UFgyYWQ4In0.eyJleHAiOjE2MzcxNzU4OTAsImlhdCI6MTYzNjMxMTg5MCwianRpIjoiMWExNmNhZWItNWYxNS00ODNkLWJlZWUtOTcyMzE3YWFhMDg3IiwiaXNzIjoiaHR0cDovL2FwcC5yd3guc3lzdGVtcy9hdXRoL3JlYWxtcy9yZWFsbSIsImF1ZCI6ImFjY291bnQiLCJzdWIiOiJlMjlhZGVhZS04ZDNlLTRmMjktODRjOC0xYTI3YWM1Njg0MzUiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJ3ZWJhcHAiLCJzZXNzaW9uX3N0YXRlIjoiMmIzMDhhYWMtNDFlZS00NWJkLTllMTctZTU1ZjdkZGJkMjEwIiwiYWNyIjoiMSIsInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJkZWZhdWx0LXJvbGVzLXJlYWxtIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiJdfSwicmVzb3VyY2VfYWNjZXNzIjp7ImFjY291bnQiOnsicm9sZXMiOlsibWFuYWdlLWFjY291bnQiLCJtYW5hZ2UtYWNjb3VudC1saW5rcyIsInZpZXctcHJvZmlsZSJdfX0sInNjb3BlIjoicHJvZmlsZSBlbWFpbCIsInNpZCI6IjJiMzA4YWFjLTQxZWUtNDViZC05ZTE3LWU1NWY3ZGRiZDIxMCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjEifQ.XeyuGjUfFeI566kpwBTQ-GERVnWTb-CkcRlEOgTTIdhIRXwZOT5aZeXMm_5sdyxQaqEHL_Ig6FRy2stJ4AXHMgQRroclyApcmVPUr1i7wf-f91Mjcc1J_TmL-1Shbg6JNv3hBkgwjZGfy0LE2fVeCMEtYjhHl3bs3FuVmKGuWIAQRcQmNcZ3DxhUSTh0Lsh4x-I9LfaEmTg9E08i_ffAF86lUEFOjVcCDL5BDtYa4VqkxZ0Z3FOQFib1zOxJUhXv-gPiJcVvBIkrK3RQmFmT5GsnKdaIc-zj3mv97rZ0dHwxoov9k0r2Z4Yy_nMGkQfqb2PjKW5CPA3p9QDcRuYExw
# sub "e29adeae-8d3e-4f29-84c8-1a27ac568435"


### USER2

GET http://app.rwx.systems/app
# Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJMbnptMGtqNTE4RHJwRTdlc1I4QU1EaU9VMndXTmQ4MFBGWm13UFgyYWQ4In0.eyJleHAiOjE2MzcxNzU5NzksImlhdCI6MTYzNjMxMTk3OSwianRpIjoiZjY3YmZiODAtMmQ0Ni00Y2RlLWEzNjYtNWY4OGI2MGNiMTQ1IiwiaXNzIjoiaHR0cDovL2FwcC5yd3guc3lzdGVtcy9hdXRoL3JlYWxtcy9yZWFsbSIsImF1ZCI6ImFjY291bnQiLCJzdWIiOiIwMWZiZTAwYS1lNTEyLTQzNDQtOGNjYy0yZjFlODFiOGI3MjkiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJ3ZWJhcHAiLCJzZXNzaW9uX3N0YXRlIjoiODhjOWQ1YjYtNDhmOC00Zjk4LTk4YzktZmYxYjk5YWU1YmYxIiwiYWNyIjoiMSIsInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJkZWZhdWx0LXJvbGVzLXJlYWxtIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiJdfSwicmVzb3VyY2VfYWNjZXNzIjp7ImFjY291bnQiOnsicm9sZXMiOlsibWFuYWdlLWFjY291bnQiLCJtYW5hZ2UtYWNjb3VudC1saW5rcyIsInZpZXctcHJvZmlsZSJdfX0sInNjb3BlIjoicHJvZmlsZSBlbWFpbCIsInNpZCI6Ijg4YzlkNWI2LTQ4ZjgtNGY5OC05OGM5LWZmMWI5OWFlNWJmMSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlcjIifQ.ko3SP7LVr15z7MLbZ0IRAe4xplD7Egq9z0mCWomhsnXYXgmENlRqUC6WDpYOByFDlWzaqAXZ-YpI94jyNnJBc8s-w0GBL6u3ifruwuyPSd10JYoOkF9D6KKTYp4g651dylWtBDdQFTo9s7REO6322bAjTwQzmzE1_MWHmKzDQV0L8D-d5OEmedNL9hJvl8I_bKijx2AB-2WMNZCbroiFwb6uBGUS1vYTNN2ONhBDA_fA9wSpbmEAMaOqf_Vzpi2K79kY2PFrbWLQ3HOlw2MJt_4fuiSOSn_NA0t9pLerLigSF7dNpkDSMcKoHrL_7cSL52WSA12jZrHm9IprPaAgYw
# sub "8e534a72-64d3-4b45-9f79-ca7753d9e2b5"


# curl -s -I "http://app.rwx.systems/node/" -H "Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxNm5uUXNGSi1DSno2cnFxNEktajN3QTItS0JfYkUweGl4bU1sa0ZOb1pjIn0.eyJleHAiOjE2MzYzNzExMjMsImlhdCI6MTYzNjI4NDcyMywianRpIjoiY2U5NDA2MWQtMTNlZC00Y2RiLWFhNGEtN2YwYTIzYTRkMDZkIiwiaXNzIjoiaHR0cDovL2FwcC5yd3guc3lzdGVtcy9hdXRoL3JlYWxtcy9tYXN0ZXIiLCJhdWQiOiJhY2NvdW50Iiwic3ViIjoiOGU1MzRhNzItNjRkMy00YjQ1LTlmNzktY2E3NzUzZDllMmI1IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoid2ViYXBwIiwic2Vzc2lvbl9zdGF0ZSI6IjQyOTc4ZDQyLWYyNjQtNDYzNS1iZjZiLTA3NjBlNTc3NjRmNCIsImFjciI6IjEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZGVmYXVsdC1yb2xlcy1tYXN0ZXIiLCJvZmZsaW5lX2FjY2VzcyIsInVtYV9hdXRob3JpemF0aW9uIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJwcm9maWxlIGVtYWlsIiwic2lkIjoiNDI5NzhkNDItZjI2NC00NjM1LWJmNmItMDc2MGU1Nzc2NGY0IiwiZW1haWxfdmVyaWZpZWQiOmZhbHNlLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJ1c2VyMiJ9.UqoOtHRdk71iXqmRKM8gpOSH2LTNewxwDYWT6S925qy215ucJRz01u0VgJVS0hHi2vKf3KOiwzrauBB5WomphMlylIlfYuIpLzHfCFujTJtzKYP2R--v7li0JSroXZhpHr4_NT7tMmC32lMeMwWSHwlMaEgZp_ElQExifQlASEzFwHBS55wwtIjxXd2vfMvlya7PnWLpbiVuPdeNB8o5N1ofIdpIpcAtXXms6i6ttMjXCCq24mZqZrg8DnVxPjdABbjwag2PWH0J3ztJQN7daUZ_LV-eLc7ySV_tqX1FnRT11O2HKA982epqtx8WxtbbAIkO1TjH4FYchBByhXWFFg"


# ### JWT
# POST http://localhost:8080/auth/realms/realm/protocol/openid-connect/token
# Content-Type: application/x-www-form-urlencoded

### ISTIO

GET http://app.rwx.systems/headers
Authorization: Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkRIRmJwb0lVcXJZOHQyenBBMnFYZkNtcjVWTzVaRXI0UnpIVV8tZW52dlEiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjM1MzczOTExMDQsImdyb3VwcyI6WyJncm91cDEiLCJncm91cDIiXSwiaWF0IjoxNTM3MzkxMTA0LCJpc3MiOiJ0ZXN0aW5nQHNlY3VyZS5pc3Rpby5pbyIsInNjb3BlIjpbInNjb3BlMSIsInNjb3BlMiJdLCJzdWIiOiJ0ZXN0aW5nQHNlY3VyZS5pc3Rpby5pbyJ9.EdJnEZSH6X8hcyEii7c8H5lnhgjB5dwo07M5oheC8Xz8mOllyg--AHCFWHybM48reunF--oGaG6IXVngCEpVF0_P5DwsUoBgpPmK1JOaKN6_pe9sh0ZwTtdgK_RP01PuI7kUdbOTlkuUi2AO-qUyOm7Art2POzo36DLQlUXv8Ad7NBOqfQaKjE9ndaPWT7aexUsBHxmgiGbz1SyLH879f7uHYPbPKlpHU6P9S-DaKnGLaEchnoKnov7ajhrEhGXAQRukhDPKUHO9L30oPIr5IJllEQfHYtt6IZvlNUGeLUcif3wpry1R5tBXRicx2sXMQ7LyuDremDbcNy_iE76Upg



### ISTIO test

GET http://app.rwx.systems/app
Authorization: Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkRIRmJwb0lVcXJZOHQyenBBMnFYZkNtcjVWTzVaRXI0UnpIVV8tZW52dlEiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjM1MzczOTExMDQsImdyb3VwcyI6WyJncm91cDEiLCJncm91cDIiXSwiaWF0IjoxNTM3MzkxMTA0LCJpc3MiOiJ0ZXN0aW5nQHNlY3VyZS5pc3Rpby5pbyIsInNjb3BlIjpbInNjb3BlMSIsInNjb3BlMiJdLCJzdWIiOiJ0ZXN0aW5nQHNlY3VyZS5pc3Rpby5pbyJ9.EdJnEZSH6X8hcyEii7c8H5lnhgjB5dwo07M5oheC8Xz8mOllyg--AHCFWHybM48reunF--oGaG6IXVngCEpVF0_P5DwsUoBgpPmK1JOaKN6_pe9sh0ZwTtdgK_RP01PuI7kUdbOTlkuUi2AO-qUyOm7Art2POzo36DLQlUXv8Ad7NBOqfQaKjE9ndaPWT7aexUsBHxmgiGbz1SyLH879f7uHYPbPKlpHU6P9S-DaKnGLaEchnoKnov7ajhrEhGXAQRukhDPKUHO9L30oPIr5IJllEQfHYtt6IZvlNUGeLUcif3wpry1R5tBXRicx2sXMQ7LyuDremDbcNy_iE76Upg

### ISTIO test user1 sub

GET http://app.rwx.systems/app
Authorization: Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkRIRmJwb0lVcXJZOHQyenBBMnFYZkNtcjVWTzVaRXI0UnpIVV8tZW52dlEiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2MzYzNDQ5OTgsImlhdCI6MTYzNjMxNDk5OCwiaXNzIjoidGVzdGluZ0BzZWN1cmUuaXN0aW8uaW8iLCJzdWIiOiJ1c2VyMSJ9.Q7fdgUEQX3v4EVW7xdVgDx4OhHJWmHR_50feMd71HPq3SF8le94pqEe_h7MJZ4l1EZK_GlVbDXJfsKaYRp1T3GDxNsIdAsvuBSJDGsMnPbAKaoEu4CKzHw2texQ9tYdH0J5CZ1UoP8FI7vHIUstdbZxu7X6TuluIRXNM0JPMFNsKRcAZqG0pD2htyBZkwPI-H_0FZGzrlaWiGQcBY9xbGmJia3Bh2fnYQyXsLxVwTRgJpxpjGgnh4JBoSPu1MBaeNhWwAhhhYpT6jRZF6WPJJSCOg7KWCTI64PjdldaM-yQHTWiJsKsHfIZPb8hF0M_P6D-3vNDf3EUzaunY6eF6qg

### ISTIO test user2 sub

GET http://app.rwx.systems/app
Authorization: Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkRIRmJwb0lVcXJZOHQyenBBMnFYZkNtcjVWTzVaRXI0UnpIVV8tZW52dlEiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2MzYzNDUwNTMsImlhdCI6MTYzNjMxNTA1MywiaXNzIjoidGVzdGluZ0BzZWN1cmUuaXN0aW8uaW8iLCJzdWIiOiJ1c2VyMiJ9.CsTBBJ7HrUFvR2aZX9xhfrj9Q9TEfVA9CYIZwEV7YHTtsQ0fF7nujWexIEM15UV-pVBeo_s88wK9DhEtVL6cx0216hqmWyBEctwDYmVWixHWT5PexlmfykJrwzH5P_Sq9htkCKajhU-o3vMBPpmpXzp1Au1XVGzv5UT87gDoXlmwdOnFudXB1h3FBdyd9Ehw7hlpUP4VC2_EOZ3SJqro6w-r-J9nLG2Ib0rvq5fT2kJBtbeJ38u-J1DTKzH8f0oB4ESbIBGlSg1RCHgmZMq5mFz3tPfuwV6fg_rOW2v6SLTgvWtYzrynY3L4Mgpc4k2XMUBDzEIGCqaqirCBlPAFnQ